<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="connect-src *;">
    <title>Lesson 4: Memory Stacking - War Room Academy</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <div class="logo">WR</div>
            <div class="site-name">WAR ROOM ACADEMY</div>
        </div>
    </header>

    <main>
        <section class="lesson-content">
            <div class="container">
                <div class="progress-text">Module 1: 100% Complete</div>
                <div class="progress-container">
                    <div class="progress-bar" style="width: 100%"></div>
                </div>

                <h1>Lesson 4: Memory Stacking</h1>

                <p>The AI has no memory between sessions. Each conversation starts from zero. When you think the AI "remembers" something, it's performing continuity—analyzing the visible conversation history and maintaining consistency. Once that conversation ends, everything is gone.</p>

                <p>War Room operators don't rely on the AI's context window. They document decisions and re-inject them when needed. This is Memory Stacking: the discipline of capturing what matters and feeding it back when it's operationally relevant.</p>

                <h2>The Copy → Store → Re-inject Workflow</h2>

                <p><strong>Copy:</strong> When the AI generates a decision or framework you'll use again, copy it immediately. Don't trust you'll remember or find it later.</p>

                <p><strong>Store:</strong> Save it in your one source of truth (Notes app, Notion, text file). Format it using the mandatory stack structure below.</p>

                <p><strong>Re-inject:</strong> When you need that context again, paste the stack entry directly into your new prompt. The AI treats it as current input.</p>

                <h2>Mandatory Stack Format</h2>

                <p>Every memory stack entry requires these 4 fields:</p>

                <div class="stack-example">
                    <p><strong>Session:</strong> Customer Acquisition Strategy</p>
                    <p><strong>Date:</strong> 2026-02-12</p>
                    <p><strong>Decision:</strong> Focus on cold email to B2B SaaS CTOs, 50 outreach/week, test 3 subject line variants</p>
                    <p><strong>Usage:</strong> Re-inject when planning weekly outreach or reporting results</p>
                </div>

                <p><strong>Session:</strong> What problem you were solving (specific, not generic)</p>

                <p><strong>Date:</strong> When the decision was made (decisions decay, dates prove freshness)</p>

                <p><strong>Decision:</strong> What you're executing, not what you're considering (actions, not possibilities)</p>

                <p><strong>Usage:</strong> When you'll need this again (triggers re-injection)</p>

                <h2>One Source of Truth Rule</h2>

                <p>Memory stacks live in ONE place. Not scattered across chat logs, browser tabs, or "I'll remember this." One document. One system. When you need context, you go there. If it's not in your stack, it doesn't exist.</p>

                <div class="warning-box">
                    <strong>War Room Rule:</strong> If you can't find it in 10 seconds, you never documented it. Memory Stacking is not optional. It's the operational difference between continuity and chaos.
                </div>
            </div>
        </section>

        <section class="exercise-section">
            <div class="container">
                <h2>Try It Now</h2>

                <p class="exercise-instructions">Here's a prompt that re-injects a memory stack. Copy it and test how the AI uses previous context:</p>

                <div class="prompt-display">
                    <span id="example-prompt">CONTEXT FROM PREVIOUS SESSION:
Session: Email Campaign Framework
Date: 2026-02-10
Decision: Send 50 cold emails/week to SaaS CTOs, A/B test subject lines, track reply rate
Usage: Weekly campaign planning

NEW REQUEST:
I got 3 replies from 50 emails this week (6% reply rate). Two asked for pricing, one wanted a demo. Should I change my approach or scale what's working?</span>
                    <button class="copy-button" onclick="copyPrompt(document.getElementById('example-prompt').textContent)">Copy</button>
                </div>

                <div class="chat-interface">
                    <textarea
                        class="chat-input-area"
                        id="chat-input"
                        placeholder="Paste the prompt here or write your own with a stack entry..."></textarea>

                    <button
                        class="send-button"
                        onclick="handleSendMessage()">
                        Send to AI
                    </button>

                    <div class="response-area" id="ai-response"></div>
                </div>
            </div>
        </section>

        <section class="checkpoint-section">
            <div class="container">
                <h2>Checkpoint</h2>

                <p class="checkpoint-question">What from today's lesson must be remembered? Write your first memory stack entry about what you learned.</p>
                <p style="opacity: 0.7; margin-bottom: 1rem;">Include all 4 fields: Session, Date, Decision, Usage. This is your first real stack entry—make it operational.</p>

                <textarea
                    class="checkpoint-input"
                    id="checkpoint-answer"
                    placeholder="Example:
Session: War Room Academy - Memory Stacking Training
Date: 2026-02-12
Decision: Use Copy → Store → Re-inject workflow for all AI decisions I'll need again
Usage: Re-inject this process whenever starting a new project"
                    oninput="handleCheckpointInput()"></textarea>

                <div class="char-counter">0 / 20 characters minimum</div>

                <button class="cta-button" id="continue-button" onclick="completeModule()" disabled>
                    Complete Module 1
                </button>
            </div>
        </section>

        <div class="container" style="padding: 2rem 1.5rem;">
            <a href="index.html" class="back-link">← Back to Module 1</a>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>Based on The War Room Pocket Field Guide v1.0 | Built for people with real stakes</p>
        </div>
    </footer>

    <script src="app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            checkAccess(4);
        });

        function handleSendMessage() {
            const input = document.getElementById('chat-input');
            sendToAI(input.value, 'ai-response');
        }

        function handleCheckpointInput() {
            const input = document.getElementById('checkpoint-answer');
            const isValid = validateCheckpoint(input.value);
            if (isValid) {
                saveCheckpoint(4, input.value);
            }
        }

        function completeModule() {
            const answer = document.getElementById('checkpoint-answer').value.trim();
            if (answer.length >= 20) {
                const answers = JSON.parse(localStorage.getItem('warRoomAnswers') || '{}');
                answers.lesson4 = answer;
                localStorage.setItem('warRoomAnswers', JSON.stringify(answers));
                saveProgress(4);
                alert('Module 1 Complete! You\'ve mastered the War Room Foundation. Module 2 launches March 2026.');
                window.location.href = 'index.html';
            }
        }

        document.getElementById('chat-input')?.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                handleSendMessage();
            }
        });

        window.addEventListener('DOMContentLoaded', function() {
            const answers = JSON.parse(localStorage.getItem('warRoomAnswers') || '{}');
            if (answers.lesson4) {
                document.getElementById('checkpoint-answer').value = answers.lesson4;
                handleCheckpointInput();
            }
        });
    </script>
</body>
</html>
