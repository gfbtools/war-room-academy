<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="connect-src *;">
    <title>Lesson 3: Framing Density - War Room Academy</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <div class="logo">WR</div>
            <div class="site-name">WAR ROOM ACADEMY</div>
        </div>
    </header>

    <main>
        <section class="lesson-content">
            <div class="container">
                <div class="progress-text">Module 1: 75% Complete</div>
                <div class="progress-container">
                    <div class="progress-bar" style="width: 75%"></div>
                </div>

                <h1>Lesson 3: Framing Density</h1>

                <p>Most prompts fail because they lack density. Thin framing produces vague, generic, inspirational output. The AI drifts into safe patterns because you gave it no operational constraints. Dense framing locks the system into your reality.</p>

                <p>Framing Density is not about being detailed. It's about including the 4 mandatory layers that force the AI to operate within your constraints instead of hallucinating ideal scenarios.</p>

                <h2>The 4 Mandatory Layers</h2>

                <p>Every War Room prompt requires these layers. Missing even one causes drift:</p>

                <p><strong>Identity:</strong> Who you are + what failure costs you. Not your title—your operational reality. "Founder with 3 months runway" not "entrepreneur."</p>

                <p><strong>Constraints:</strong> Time, budget, energy, skill ceiling. Real limits, not aspirations. "2 hours per day, $500 budget, no coding skill" not "limited resources."</p>

                <p><strong>Format:</strong> Structure, length, inclusion requirements. "3 options, one sentence each, include cost estimate" not "give me some ideas."</p>

                <p><strong>Verification:</strong> How you'll test if output works. "Will ship to 10 customers Monday" not "sounds good" or "makes sense."</p>

                <h2>Stop Conditions</h2>

                <p>You know framing is too thin when the output contains: motivational language ("exciting opportunity," "best practices"), theory without execution steps, options you can't actually execute, or no mention of your specific constraints.</p>

                <div class="warning-box">
                    <strong>War Room Rule:</strong> If the output could apply to anyone, your framing was too thin. Dense framing produces output only you can use.
                </div>
            </div>
        </section>

        <section class="exercise-section">
            <div class="container">
                <h2>Try It Now</h2>

                <p class="exercise-instructions">Here's a prompt with all 4 density layers. Copy it and test it with the AI, then modify it for your own scenario:</p>

                <div class="prompt-display">
                    <span id="example-prompt">I'm a SaaS founder with 3 months of runway left (Identity). I have 10 hours this week, $1000 budget, and can't code (Constraints). Give me 3 customer acquisition tactics, one sentence each, with estimated cost per customer (Format). I will test the top option with 20 outreach attempts by Friday (Verification).</span>
                    <button class="copy-button" onclick="copyPrompt(document.getElementById('example-prompt').textContent)">Copy</button>
                </div>

                <div class="chat-interface">
                    <textarea
                        class="chat-input-area"
                        id="chat-input"
                        placeholder="Paste the prompt here or write your own with all 4 layers..."></textarea>

                    <button
                        class="send-button"
                        onclick="handleSendMessage()">
                        Send to AI
                    </button>

                    <div class="response-area" id="ai-response"></div>
                </div>
            </div>
        </section>

        <section class="checkpoint-section">
            <div class="container">
                <h2>Checkpoint</h2>

                <p class="checkpoint-question">Write a dense frame for YOUR current biggest problem. Include all 4 layers: Identity, Constraints, Format, and Verification.</p>
                <p style="opacity: 0.7; margin-bottom: 1rem;">This forces you to apply framing density to something real. If you can't write verification, you're not ready to execute.</p>

                <textarea
                    class="checkpoint-input"
                    id="checkpoint-answer"
                    placeholder="Example: I'm a freelance designer with 2 active clients (Identity). I have 5 hours per week for business development, no ad budget, scared of cold outreach (Constraints). Give me 2 client acquisition methods, bullet points, with time investment per lead (Format). I will execute the top method with 5 attempts this week (Verification)."
                    oninput="handleCheckpointInput()"></textarea>

                <div class="char-counter">0 / 20 characters minimum</div>

                <a href="lesson-4.html" class="cta-button" id="continue-button" disabled>
                    Continue to Lesson 4
                </a>
            </div>
        </section>

        <div class="container" style="padding: 2rem 1.5rem;">
            <a href="index.html" class="back-link">← Back to Module 1</a>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>Based on The War Room Pocket Field Guide v1.0 | Built for people with real stakes</p>
        </div>
    </footer>

    <script src="app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            checkAccess(3);
        });

        function handleSendMessage() {
            const input = document.getElementById('chat-input');
            sendToAI(input.value, 'ai-response');
        }

        function handleCheckpointInput() {
            const input = document.getElementById('checkpoint-answer');
            const isValid = validateCheckpoint(input.value);
            if (isValid) {
                saveCheckpoint(3, input.value);
            }
        }

        document.getElementById('chat-input')?.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                handleSendMessage();
            }
        });

        window.addEventListener('DOMContentLoaded', function() {
            const answers = JSON.parse(localStorage.getItem('warRoomAnswers') || '{}');
            if (answers.lesson3) {
                document.getElementById('checkpoint-answer').value = answers.lesson3;
                handleCheckpointInput();
            }
        });
    </script>
</body>
</html>
